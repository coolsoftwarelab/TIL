## 고차 함수 정의

>고차 함수는 다른 함수를 인자로 받거나 함수를 반환하는 함수.  
람다나 함수 참조를 사용해 함수를 값으로 표현할 수 있다.

술어 함수를 이낮로 받는 고차함수(filter)
```
list.filter { x > 0 }
```

### 함수 타입

코틀린 함수 타입 문법
```
 파라미터 타입      반환 타입
(Int, String) -> Unit
```

```
// 컴파일러가 sum과 action이 함수 타입임을 추론
val sum = { x: Int, y:Int -> x + y }
val action = {println(42)}


val sum:(Int, Int)-> Int = { x, y -> x + y }    // Int 파라미터 2개 받아 Int 리턴
val action: () -> Unit = { println(42) }    // 아무 인자도 받지않고 아무값도 반환하지 않는 함수
```

```
var canReturnNull: (Int, Int) -> Int? = { x, y => null }

var funOrNull: ((Int, Int) -> Int)? = null  // 
```

함수 타입에서 파라미터 이름 지정가능.  
사용이유 : 가독성이 좋아짐
```
// API 
fun performRequest(
  url: String,
  callbacck: (code: Int, Content: String) -> Unit
  ) { ... }
  
  
  >>performRequest(url) { code, content -> /*...*/ }  // API에서 제공하는 이름을 사용가능
```

### 인자로 받은 함수 호출

```
fun twoAndThree(operation: (Int, Int) -> Int) { // 함수 타입인 파라미터 선언
  val result = operation(2, 3)  // 함수 타입인 파라미터를 호출
}

>>> twoAndThree {a,b -> a + b} // 5
>>> twoAndThree {a,b -> a * b} // 6
```

술어 함수를 파라미터로 받는 filter 함수 정의

<img src="https://user-images.githubusercontent.com/4969393/138712844-138c7bee-2e43-49cb-8409-699ec0eac409.PNG" />

#### 자바에서 코틀린 함수 타입 사용
>컴파일된 코드 안에서 함수 타입은 일반 인터페이스로 바뀐다
즉 함수 타입의 변수는 FunctionN 인터페이스를 구현하는 객체를 저장한다.  
코틀린 표준 라이브러리는 함수 인자의 개수에 따라 Function0<R> (인자가 없는 함수),  
Function1<P1, R> (인자가 1개인 함수) 등의 인터페이스를 제공한다. 각 인터페이스에는 invoke 메소드 정의가 하나 들어있다.  
invoke를 호출하면 함수를 실행할 수 있다. 함수 타입인 변수는 인자 개수에 따라 적당한 FunctionN 인터페이스를 구현하는 클래스의 인스턴스를 저장하며, 그 클래스의 invoke 메소드 본문에는 람다의 본문이 들어간다.
코틀린 표준 라이브러리는 함수 인자의 개수에 따라 Function0<R> (인자가 없는 함수),  Function1<P1, R> (인자가 1개인 함수) 등의 인터페이스를 제공한다. 각 인터페이스에는 invoke 메소드 정의가 하나 들어있다. invoke를 호출하면 함수를 실행할 수 있다. 함수 타입인 변수는 인자 개수에 따라 적당한 FunctionN 인터페이스를 구현하는 클래스의 인스턴스를 저장하며, 그 클래스의 invoke 메소드 본문에는 람다의 본문이 들어간다.

```
fun processTheAnswer(f: (Int) -> Int){
    println(f(42))
}
/* 자바 */
>>> processTheAnswer(number -> number+1)
43
```








