### 명명 패턴

>변수, 함수의 이름을 일관된 방식으로 작성하는 패턴  
(ex. JUnit3 까지 테스트 메서드 이름은 test로 시작)

#### 단점
1. 오타를 내면 안된다.  
(ex. Junit3에서 `test`로 시작해야 하는 메서드를 `tset` 으로 해당 메서드는 테스트에서 무시된다)

2. 명명패턴을 써야하는 곳(의도한 곳)에서만 쓸거라는 보장이 없다.  
(ex. 클래스 이름을 TestSafetyMechanisms로 지어 JUnit에 던져도 JUnit은 클래스 이름에 관심 없으므로 무시된다)

3. 명명패턴을 적용한 요소를 매개변수로 전달할 방법이 마땅치 않다.  
(ex. 특정 예외를 던져야 성공하는 테스트에 안전하게 예외를 던질 수 없다)

#### 위와 같은 문제들을 해결해주는 것이 JUnit4부터 전면 도입된 `애너테이션` 이다.

## 자바 애너테이션(Java Annotation)

>자바 소스 코드에 추가하여 사용할 수 있는 `메타데이터`의 일종이다. 

- @Override 애너테이션처럼 컴파일러를 위한 정보를 제공하기 위한 용도
- 스프링 프레임워크의 @Controller 애너테이션처런 런타임에 `리플렉션`을 이용해서 특수 기능을 추가하기 위한 용도
- 컴파일 과정에 애너테이션 정보로부터 코드를 생성하기 위한 용도

### 마커 애너테이션(Marker annotation)
>"아무 매개변수 없이 단순히 대상에 마킹(marking)한다" 는 뜻에서 마커(marker) 애너테이션이라 한다.

마커 애너테이션 타입 선언
```
/**
* 테스트 메서드임을 선언하는 애너테이션
* 매개변수 없는 정적 메서드 전용 (주석일 뿐 강제할 순 없다. 따로 처리가 필요)
*/
@Retention(RetentionPolicy.RUNTIME) // 메타 애너테이션 (애너테이션 선언에 다는 애너테이션)
@Target(ElementType.METHOD)         
public @interface Test {            
}
```

마커 애너테이션을 사용한 프로그램 예
```
public class Sample {
    @Test public static void m1() {}    // 성공해야 한다.
    @Test public void m5() {}    // 잘못 사용한 예 (정적 메서드 아님)       
}
```

- 마커 애너테이션은 적용하는 대상의 코드 의미는 그대로 둔 채, 그 애너테이션에 관심있는 프로그램에 추가 정보를 제공한다.

### 매개변수가 있는 애너테이션

```
// 명시한 예외를 던져야만 성공하는 테스트 메서드용 애너테이션
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface MadExceptionTest {
    Class<? extends Throwable> value();
}
```

### 배열 매개변수를 갖는 받는 애너테이션

```
// 배열 매개변수를 받는 애너테이션 타입
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface ExceptionTest {
    Class<? extends Exception>[] value();
}
```

```
// 코드 39-7 배열 매개변수를 받는 애너테이션을 사용하는 코드 (242-243쪽)
@ExceptionTest({ IndexOutOfBoundsException.class, NullPointerException.class })
public static void doublyBad() {   // 성공해야 한다.
    List<String> list = new ArrayList<>();

    // 자바 API 명세에 따르면 다음 메서드는 IndexOutOfBoundsException이나
    // NullPointerException을 던질 수 있다.
    list.addAll(5, null);
}
```

### 



*리플렉션 : 런타임에 동적으로 특정 클래스의 정보를 객체를 통해 분석 및 추출해내는 프로그래밍 기법
*`메타데이터`(metadata)는 다른 데이터를 설명해 주는 데이터  
- 도서관의 카드목록 (가나다순, 서명순, 저자 등)
- 화상데이터(사진)에 추가되는 시간, 위치 정보, 해상도 등의 정보

