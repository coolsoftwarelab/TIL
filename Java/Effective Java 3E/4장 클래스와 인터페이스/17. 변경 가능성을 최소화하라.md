
### 불변 클래스 : 그 인스턴스의 내부 값을 수정할 수 없는 클래스

### 불변 클래스 5가지 규칙

1. 객체의 상태를 변경하는 메서드(변경자)를 제공하지 않는다. (setter)
2. 클래스를 확장할 수 없게 한다. (extend 불가)
3. 모든 필드를 final 로 선언한다
4. 모든 필드를 private 으로 선언한다.
5. 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다

### 불변 객체 장점

1. 스레드 세이프
2. 공유 가능
3. 인스턴스 재활용 (정적 팩터리 메서드 활용)
4. 불변객체는 자유롭게 공유할 수 있음은 물론, 불변 객체끼리는 내부 데이터를 공유할 수 있다.
5. 불변객체는 그 자체로 실패 원자성을 제공한다

### 불변 객체 단점

값이 다르면 반드시 독립된 객체로 만들어야 한다.값의 가짓수가 많으면 이를 모두 만드는데 큰 비용이 필요하다.

불변 클래스의 단점을 대처하기 위해서 가변 동반 클래스를 두곤 한다.  

예시로, String 클래스는 가변 동반 클래스로 StringBuilder를 갖고 있다.

### 정리
- 클래스는 특정 예외 상황을 제외하고 되도록이면 불변이어야 한다.
- 불변으로 만들 수 없는 클래스라도 변경 가능한 범위는 최소한으로 줄이자.
- 다른 이유가 없다면 모든 필드는 private final로 선언하자.
- 생성자는 불변식 설정이 완료되고, 초기화가 완벽히 끝난 상태에서 호출(객체 생성)을 해야 한다.
