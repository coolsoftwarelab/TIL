## 싱글턴 패턴

>클래스 인스턴스를 하나만 만들고, 그 인스턴스로의 전역 접근을 제공한다.

#### 멀티스레딩 문제 해결

`getInstance()` 동기화

#### 더 효율적인방법 

1. `getInstance()`의 속도가 중요하지 않다면 그냥 둔다.
- 다만 메서드를 동기화하면 성능이 100배 정도 저하된다

2. 인스턴스가 필요할 때는 생성하지 말고 처음부터 만든다.

```java
public class Singleton {
  private static Singleton uniqueInstance = new Singleton();
  
  private Singleton() {}
  
  public static Singleton getInstance() {
    return uniqueInstance;
  }
}
```

3. `DCL` 을 써서 getInstance()에서 동기화되는 부분을 줄인다

- DCL(Double-Chekced Locking)를 사용하면 인스턴스가 생성되어 있지 않았을 때, 즉 처음만 동기화 할 수 있다.

```java
public class Singleton {
  private volatile static Singleton uniqueInstance = new Singleton();
  
  private Singleton() {}
  
  public static Singleton getInstance() {
    if(uniqueInstance == null) {
        synchronized (Signleton.class) {
            if(uniqueInstance == null) {
                uniqueInstance = new Singleton();
            }
        }
    }
    return uniqueInstance;
  }
} 
```

* `volatile` 


